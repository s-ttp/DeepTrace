{
  "network_overview": "The capture contains 20 VoLTE/VoNR SIP dialogs transported over SCTP inside the operator\u2019s IP-core (10.174.0.0/16 + IPv6). Every call leg ends in failure: 7 are explicitly CANCELled by the handset (\u201cCall Rejected By User\u201d), the remaining 13 never receive a final 200 OK and are torn down with \u201cINVITE_SETUP_TIMEOUT\u201d or a late BYE quoting PS\u2192CS hand-over.",
  "health_score": 0,
  "health_status": "critical",
  "observations": [
    {
      "category": "Traffic Pattern",
      "finding": "100 % call failure rate (0/20 successful); no RTP bearer ever established, so no user-plane packets captured.",
      "severity": "critical"
    },
    {
      "category": "Voice Quality",
      "finding": "Media not negotiated \u2013 every dialog stops at 183/180 or gets cancelled before 200 OK, hence no MOS can be calculated.",
      "severity": "critical"
    },
    {
      "category": "Signalling",
      "finding": "SIP messages arrive promptly (< 300 ms) and SCTP heart-beats are regular; transport layer is healthy, pointing to service-layer rejection.",
      "severity": "info"
    },
    {
      "category": "Protocol",
      "finding": "Seven CANCELs carry identical reason \u201cSIP;cause=200;text=Call Rejected By User\u201d, indicating the UE voluntarily aborted the setup after ~34 s of ringing.",
      "severity": "warning"
    },
    {
      "category": "Mobility",
      "finding": "Two long calls ended with BYE containing \u201cPS to CS Handover\u201d and \u201cX.int;reasoncode=0x00000000;add-info=0132.0001.0B2E\u201d, showing SRVCC procedure was triggered but final 200 OK never arrived.",
      "severity": "warning"
    }
  ],
  "root_causes": [
    {
      "issue": "Subscriber voluntarily rejects every outgoing call",
      "description": "All early dialogs receive 180/183 in < 3 s, proving radio and IMS reachability, yet the same IPv6 UE (2001:1a10:82f:154f:83a:8d5c:4bb3:20ba) sends CANCEL after 34-36 s with user-text \u201cCall Rejected By User\u201d.",
      "impact": "Zero completed calls, KPI hit 0 % answer-seizure ratio.",
      "confidence": "high",
      "evidence_refs": [
        "Tx:pkt_35 (CANCEL cause 200)",
        "Call:1eEeXOyORCYzPJN6BcinNvKt",
        "Call:J2Pta2qZdAC8H0Q8ybh7TiKu"
      ]
    },
    {
      "issue": "SRVCC to CS domain fails to complete",
      "description": "Two calls that stayed in alerting > 6 min attempted PS\u2192CS hand-over; the network initiated BYE with \u201cPS to CS Handover\u201d but no 200 OK followed, leaving the bearer hanging until timeout.",
      "impact": "Long call-setup delays and eventual drop for VoLTE subscribers moving to 2G/3G coverage.",
      "confidence": "medium",
      "evidence_refs": [
        "Tx:asbcM3hLVREVD5ydTfb0VA0EWIeM BYE (cause 503 PS to CS Handover)",
        "ffll43qaga4q76d36gy4344yyw4g0ggl@10.174.4.4 BYE (reason-code 0x00000000)"
      ]
    }
  ],
  "recommendations": [
    {
      "priority": 1,
      "action": "Check handset logs for why the same UE repeatedly cancels calls after 30-35 s (UI timeout, alerting tone failure, or user behaviour).",
      "rationale": "Eliminates the dominant failure cause (> 50 % of calls) without network changes.",
      "category": "Reliability"
    },
    {
      "priority": 2,
      "action": "Verify SRVCC configuration on MME/AMF and MSC: ensure \u201cPS to CS Handover\u201d BYE is answered with 200 OK and that the CS bearer is actually cut through.",
      "rationale": "Prevents long-hanging dialogs and improves retainability when VoLTE coverage ends.",
      "category": "Performance"
    },
    {
      "priority": 3,
      "action": "Reduce T9 (alerting no-answer) timer in MMTel AS from current ~35 s to 20 s so that network releases resources faster when user is not answering.",
      "rationale": "Lowers mean call-setup delay and frees IMS contexts earlier.",
      "category": "Optimization"
    }
  ],
  "session_analysis": {
    "signaling_health": "SIP/SCTP transport is stable (no retransmissions, no 5xx), but every INVITE sequence is aborted before 200 OK, giving 0 % successful call setups.",
    "user_plane_health": "No RTP flows detected; media negotiation (SDP offer/answer) starts but is never completed because calls are cancelled or timed out.",
    "voice_quality": "No speech path established \u2013 quality metrics (MOS, packet-loss, jitter) are not applicable.",
    "cross_plane_correlation": "Control-plane proceeds normally up to 180/183; failure occurs purely at service layer (user rejection or SRVCC), so user-plane is never activated."
  },
  "sequence_diagram": "sequenceDiagram\n    participant UE as VoLTE UE\n    participant PCSCF\n    participant SCSCF\n    participant MMTel\n    Note over UE,MMTel: All calls fail; representative flow\n    UE->>PCSCF: INVITE\n    PCSCF->>SCSCF: INVITE\n    SCSCF->>MMTel: INVITE\n    MMTel-->>SCSCF: 183 Session Progress\n    SCSCF-->>PCSCF: 183 Session Progress\n    PCSCF-->>UE: 183 Session Progress\n    MMTel-->>SCSCF: 180 Ringing\n    SCSCF-->>PCSCF: 180 Ringing\n    PCSCF-->>UE: 180 Ringing\n    Note right of UE: ~34 s elapsed\n    UE->>PCSCF: CANCEL (cause=200;text=Call Rejected By User)\n    PCSCF->>SCSCF: CANCEL\n    SCSCF->>MMTel: CANCEL\n    MMTel-->>SCSCF: 487 Request Terminated\n    SCSCF-->>PCSCF: 487 Request Terminated\n    PCSCF-->>UE: 487 Request Terminated\n    UE->>PCSCF: ACK"
}